#include "char.h"
#include "display.h"
#include <avr/io.h>
#include <inttypes.h>
#include <util/delay.h>
#include <avr/pgmspace.h>

void print(const char *text,uint8_t x,uint8_t y)
{
	uint8_t counter = 0;
	uint8_t offset = 0;
	uint8_t y_move = y;
	uint8_t x_move = x;

	while(text[counter] != 0 )
	{
		uint8_t character = (uint8_t)text[counter];
		if(character >=48 && character <= 57) offset = 47;
		if(character >=65 && character <= 90) offset = 54;
		sendChar(x_move,y_move,6,2,character - offset);
		x_move += 6;

		counter++;
		if(x_move >= 150)
		{
			y_move+= 3;
			x_move = x;
			if(y_move > 20) y_move = y;
 		}
	}
}

const uint8_t alphabet[36][14] PROGMEM = {
{6,12, 	 //0.bmp
0xf0,0x3f,0xc,0xf0,0xc,0xcc,
0xc,0xc3,0xf0,0x3f,0x0,0x0},
{6,12, 	 //1.bmp
0xc,0xc0,0xfc,0xff,0x0,0xc0,
0x0,0x0,0x0,0x0,0x0,0x0},
{6,12, 	 //2.bmp
0x30,0xf0,0xc,0xcc,0xc,0xc3,
0xf0,0xc0,0x0,0x0,0x0,0x0},
{6,12, 	 //3.bmp
0xc,0xc0,0xc,0xc3,0xc,0xc3,
0xf0,0x3c,0x0,0x0,0x0,0x0},
{6,12, 	 //4.bmp
0xfc,0x3,0x0,0x3,0x0,0x3,
0xfc,0xff,0x0,0x0,0x0,0x0},
{6,12, 	 //5.bmp
0xfc,0xc3,0xc,0xc3,0xc,0xc3,
0xc,0xff,0x0,0x0,0x0,0x0},
{6,12, 	 //6.bmp
0xfc,0xff,0xc,0xc3,0xc,0xc3,
0xc,0xff,0x0,0x0,0x0,0x0},
{6,12, 	 //7.bmp
0xc,0x0,0xc,0xf0,0xc,0xf,
0xfc,0x0,0x0,0x0,0x0,0x0},
{6,12, 	 //8.bmp
0xfc,0xff,0xc,0xc3,0xc,0xc3,
0xfc,0xff,0x0,0x0,0x0,0x0},
{6,12, 	 //9.bmp
0xfc,0xc3,0xc,0xc3,0xc,0xc3,
0xfc,0xff,0x0,0x0,0x0,0x0},
{6,12, 	 //A.bmp
0xf0,0xff,0xc,0xc,0xc,0xc,
0xc,0xc,0xf0,0xff,0x0,0x0},
{6,12, 	 //B.bmp
0xfc,0xff,0xc,0xc3,0xc,0xc3,
0xc,0xc3,0xf0,0x3c,0x0,0x0},
{6,12, 	 //C.bmp
0xf0,0x3f,0xc,0xc0,0xc,0xc0,
0xc,0xc0,0x0,0x0,0x0,0x0},
{6,12, 	 //D.bmp
0xfc,0xff,0xc,0xc0,0xc,0xc0,
0xc,0xc0,0xf0,0x3f,0x0,0x0},
{6,12, 	 //E.bmp
0xfc,0xff,0xc,0xc3,0xc,0xc3,
0xc,0xc3,0x0,0x0,0x0,0x0},
{6,12, 	 //F.bmp
0xfc,0xff,0xc,0x3,0xc,0x3,
0xc,0x3,0x0,0x0,0x0,0x0},
{6,12, 	 //G.bmp
0xf0,0x3f,0xc,0xc0,0xc,0xc0,
0xc,0xc3,0xc,0xff,0x0,0x0},
{6,12, 	 //H.bmp
0xfc,0xff,0x0,0x3,0x0,0x3,
0x0,0x3,0xfc,0xff,0x0,0x0},
{6,12, 	 //I.bmp
0xfc,0xff,0x0,0x0,0x0,0x0,
0x0,0x0,0x0,0x0,0x0,0x0},
{6,12, 	 //J.bmp
0x0,0xc0,0x0,0xc0,0x0,0xc0,
0x0,0xc0,0xfc,0x3f,0x0,0x0},
{6,12, 	 //K.bmp
0xfc,0xff,0x0,0x3,0xc0,0xc,
0x30,0x30,0xc,0xc0,0x0,0x0},
{6,12, 	 //L.bmp
0xfc,0xff,0x0,0xc0,0x0,0xc0,
0x0,0xc0,0x0,0xc0,0x0,0x0},
{6,12, 	 //M.bmp
0xfc,0xff,0x30,0x0,0xc0,0x0,
0x30,0x0,0xfc,0xff,0x0,0x0},
{6,12, 	 //N.bmp
0xfc,0xff,0x30,0x0,0xc0,0x0,
0x0,0x3,0xfc,0xff,0x0,0x0},
{6,12, 	 //O.bmp
0xf0,0x3f,0xc,0xc0,0xc,0xc0,
0xc,0xc0,0xf0,0x3f,0x0,0x0},
{6,12, 	 //P.bmp
0xfc,0xff,0xc,0xc,0xc,0xc,
0xc,0xc,0xf0,0x3,0x0,0x0},
{6,12, 	 //Q.bmp
0xf0,0x3f,0xc,0xc0,0xc,0xc0,
0xc,0xc0,0xf0,0x3f,0x0,0xc0},
{6,12, 	 //R.bmp
0xfc,0xff,0xc,0xc,0xc,0xc,
0xc,0xc,0xf0,0xf3,0x0,0x0},
{6,12, 	 //S.bmp
0xf0,0xc0,0xc,0xc3,0xc,0xc3,
0xc,0xc3,0xc,0x3c,0x0,0x0},
{6,12, 	 //T.bmp
0xc,0x0,0xc,0x0,0xfc,0xff,
0xc,0x0,0xc,0x0,0x0,0x0},
{6,12, 	 //U.bmp
0xfc,0x3f,0x0,0xc0,0x0,0xc0,
0x0,0xc0,0xfc,0x3f,0x0,0x0},
{6,12, 	 //V.bmp
0xfc,0xf,0x0,0x30,0x0,0xc0,
0x0,0x30,0xfc,0xf,0x0,0x0},
{6,12, 	 //W.bmp
0xfc,0xff,0x0,0x30,0x0,0xc,
0x0,0x30,0xfc,0xff,0x0,0x0},
{6,12, 	 //X.bmp
0x3c,0xf0,0xc0,0xc,0x0,0x3,
0xc0,0xc,0x3c,0xf0,0x0,0x0},
{6,12, 	 //Y.bmp
0xfc,0x0,0x0,0x3,0x0,0xff,
0x0,0x3,0xfc,0x0,0x0,0x0},
{6,12, 	 //Z.bmp
0xc,0xf0,0xc,0xcc,0xc,0xc3,
0xcc,0xc0,0x3c,0xc0,0x0,0x0}
};
